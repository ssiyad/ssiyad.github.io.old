<!doctype html><html class=scroll-smooth lang=en><head><meta charset=utf-8><script src="https://www.googletagmanager.com/gtag/js?id=G-SZ5B5E87Q4" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date());gtag("config","G-SZ5B5E87Q4")</script><link href=/css/style.css rel=stylesheet><link href=/line-awesome/css/line-awesome.min.css rel=stylesheet><script defer src=/js/main.js></script><title>Veronika Decides To Try JavaScript | Sabu Siyad</title><body class="bg-white dark:bg-slate-900 transition ease-in-out"><section><div class="sticky top-0 bg-slate-100 dark:bg-slate-800"><div class="container mx-auto flex place-content-between py-16 lg:py-8 font-sans text-6xl lg:text-2xl text-slate-900 dark:text-slate-300"><div class=flex><a class="m-0 p-0 text-slate-900 hover:text-slate-700 dark:text-slate-300 dark:hover:text-slate-200" href=/blog/> /blog </a></div><div class="flex gap-4"><div class="hidden cursor-pointer" id=back-to-top><i class="las la-level-up-alt"></i></div><a href=/><i class="las la-home"></i></a><div class=cursor-pointer id=darkmode-toggle><div class="hidden dark:inline"><i class="las la-sun"></i></div><div class="inline dark:hidden"><i class="las la-moon"></i></div></div></div></div></div><div class="container mb-16"><div class="mt-4 font-serif text-slate-600 dark:text-slate-500 text-4xl lg:text-base">2022-08-23</div><h1 class="w-full mt-4 mb-8 font-serif text-8xl lg:text-4xl text-slate-900 dark:text-slate-300">Veronika Decides To Try JavaScript</h1><div class="w-100 border-t mb-8 border-slate-300 dark:border-slate-700"></div><div class=prose-boring><p>That’s a joke, she didn’t. Instead, she decides to die only to meet a new world of infinite possibilities that awaited her. She is a character from Paulo Coelho’s stellar novel titled ‘Veronika Decides to Die’. If you haven’t read it already, I suggest you do. It’s a good book with a very much relatable setting. Meanwhile, I thought it might make a good title so here we are.<p>You might be thinking, what is this about then, if not Veronika? yes! it’s JavaScript! Even tho I’m not a big fan of JavaScript, I find it quite tinker-able and useful. JavaScript makes its way into almost everything, from front-end web development to smartphone applications. If you’re one of those who use VSCode, your editor runs on JavaScript. If you happen to use any cross-platform desktop applications, it is probably an electron app that renders JavaScript in a polished window. That being said, if you’re a JavaScript guru, please ignore the rest of this post, and wave your hands as you close this window. If you’re going to continue reading, let me welcome you to the problem and the reasons for it.<h2 id=the-backstory>The Backstory</h2><pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> </span><span>a </span><span style=color:#81a1c1>= </span><span style=color:#b48ead>1
</span><span style=color:#b48ead>1
</span><span style=color:#81a1c1>> </span><span>b </span><span style=color:#81a1c1>= </span><span style=color:#b48ead>1
</span><span style=color:#b48ead>1
</span><span style=color:#81a1c1>> </span><span>a </span><span style=color:#81a1c1>== </span><span>b
</span><span style=color:#81a1c1>true
</span></code></pre><p>This is good, both <code>a</code> and <code>b</code> have a value of <code>1</code> and when we check if <code>a</code> and <code>b</code> are equal (<code>==</code>), it returns <code>true</code> which means both <code>a</code> and <code>b</code> have equal values. Let’s also note that,<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> typeof </span><span>a
</span><span style=color:#a3be8c>'number'
</span><span style=color:#81a1c1>> typeof </span><span>b
</span><span style=color:#a3be8c>'number'
</span></code></pre><p>And let’s try,<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> </span><span>a </span><span style=color:#81a1c1>= </span><span>{}
</span><span>{}
</span><span style=color:#81a1c1>> </span><span>b </span><span style=color:#81a1c1>= </span><span>{}
</span><span>{}
</span><span style=color:#81a1c1>> </span><span>a </span><span style=color:#81a1c1>== </span><span>b
</span><span style=color:#81a1c1>false
</span></code></pre><p>Why wouldn’t <code>a</code> and <code>b</code> not equal? They are both empty right? Well, as developer docs says,<blockquote><p>If the operands are both objects, return true only if both operands reference the same object.</blockquote><p>That means a and b have different memory addresses unlike,<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> </span><span>a </span><span style=color:#81a1c1>= </span><span>b </span><span style=color:#81a1c1>= </span><span>{}
</span><span>{}
</span><span style=color:#81a1c1>> </span><span>a </span><span style=color:#81a1c1>== </span><span>b
</span><span style=color:#81a1c1>true
</span></code></pre><p>where a point to b and equality is satisfied. In the case of primitive values like in the first case, we have a different condition that says,<blockquote><p>If the operands have the same type, they are compared as follows:</blockquote><ul><li><code>String</code>: return <code>true</code> only if both operands have the same characters in the same order.<li><code>Number</code>: return <code>true</code> only if both operands have the same value. <code>+0</code> and <code>0</code> are treated as the same value. If either operand is <code>NaN</code>, return <code>false</code>.<li><code>Boolean</code>: return <code>true</code> only if operands are both <code>true</code> or both <code>false</code>.</ul><h2 id=the-problem>The Problem</h2><p>We know that,<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> typeof new </span><span style=color:#8fbcbb>Date</span><span>()
</span><span style=color:#a3be8c>'object'
</span></code></pre><p>and let’s try,<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> new </span><span style=color:#8fbcbb>Date</span><span>() </span><span style=color:#81a1c1>== new </span><span style=color:#8fbcbb>Date</span><span>()
</span><span style=color:#81a1c1>false
</span></code></pre><p>This is known since both have different memory addresses and variables referencing different objects do not satisfy equality. But then we can,<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> new </span><span style=color:#8fbcbb>Date</span><span>() </span><span style=color:#81a1c1><= new </span><span style=color:#8fbcbb>Date</span><span>() </span><span style=color:#81a1c1>&& new </span><span style=color:#8fbcbb>Date</span><span>() </span><span style=color:#81a1c1>>= new </span><span style=color:#8fbcbb>Date</span><span>()
</span><span style=color:#81a1c1>true
</span></code></pre><p>which to be frank, looks like an abomination but helps me spit this point. This essentially means we have equality satisfied but at a very high cost. But why would this work when == doesn’t? Because we have a different algorithm for < and >. From developer docs,<blockquote><p>First, objects are converted to primitives using Symbol.ToPrimitive with the hint parameter be ‘number’.</blockquote><p>If both values are strings, they are compared as strings, based on the values of the Unicode code points they contain. Otherwise JavaScript attempts to convert non-numeric types to numeric values: Boolean values true and false are converted to 1 and 0 respectively. null is converted to 0. undefined is converted to NaN. Strings are converted based on the values they contain, and are converted as NaN if they do not contain numeric values. If either value is NaN, the operator returns false. Otherwise the values are compared as numeric values.<p>So what <code><</code> and <code>></code> does is converting the date object to its numerical value, which is the number of milliseconds between 1 January 1970 00:00:00 UTC and the given date aka the epoch.* JavaScript use <code>Date.prototype.valueOf()</code> behind the scenes to convert a date object to a primitive value. But we can use <code>Date.prototype.getTime()</code> since <code>Date.prototype.valueOf()</code> is usually called internally by JavaScript and not explicitly in code.<h2 id=the-solution>The Solution</h2><p>Now we know what was wrong, and how we should actually equality check date objects<pre class=language-javascript data-lang=javascript style=background:#2e3440;color:#d8dee9><code class=language-javascript data-lang=javascript><span style=color:#81a1c1>> new </span><span style=color:#8fbcbb>Date</span><span>()</span><span style=color:#81a1c1>.</span><span style=color:#88c0d0>getTime</span><span>() </span><span style=color:#81a1c1>== new </span><span style=color:#8fbcbb>Date</span><span>()</span><span style=color:#81a1c1>.</span><span style=color:#88c0d0>getTime</span><span>()
</span><span style=color:#81a1c1>true
</span></code></pre><h2 id=that-s-it>That’s it!</h2><p>JavaScript is a weird programming language to learn, but it’s also a fun experience. So if you decide to try it, like Veronika, I’d recommend you to play with its core, there is a lot to explore. Thanks for reading!</div></div></section>